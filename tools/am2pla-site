#!/usr/bin/env bash

# THIS IS A SCRIPT i USE TO CREATE AND UPDATE THE APPLICATION LIST ON https://portable-linux-apps.github.io/
# ONCE CREATED, THE PAGE WILL APPEAR LIKE THIS: https://portable-linux-apps.github.io/apps.html
# FIRST OF ALL, WE NEED TO CREATE A FILE CONTAINING ALL THE ARGUMENTS THAT THIS SCRIPT MUST READ
cd ~/Scrivania
AMREPO="https://raw.githubusercontent.com/ivan-hc/AM-application-manager/main"
arch="x86_64"
echo "" >> args
wget -q $AMREPO/programs/$arch-apps && echo -e "$(cat ./$arch-apps | awk -v FS="(◆ | : )" '{print $2}')" >> args
echo STOP >> args
ARGS=$(sed '1d' ./args)
echo "# APPLICATIONS

| [Home](https://portable-linux-apps.github.io/) |
| --- |

#### Here are listed all the apps managed by [AM](https://github.com/ivan-hc/AM-Application-Manager) and [AppMan](https://github.com/ivan-hc/AppMan) for the x86_64 architecture. 

*Use your browser's built-in search tool to easily navigate to this page.*

-----------------

| COMMAND | DESCRIPTION  | INSTALLATION |
| --- | --- | --- |" >> apps.md
# THIS IS THE WORKFLOW
for arg in $ARGS; do
	for var in $arg; do
	if [ $arg == STOP ]; then
		break
	else
	case $arg in
	am) ;;
	appman) ;;
	*) for var in $arg;
		do
		description=$(cat $arch-apps | grep "◆ $arg :" | sed 's/^.*: //')
		echo "| [***$arg***](apps/$arg.md) | *$description*..[ find out more! ](apps/$arg.md) | [ AM-installer ](https://github.com/ivan-hc/AM-Application-Manager/blob/main/programs/$arch/$arg) |" >> apps.md
		sleep 0.005
		done;;
	esac
	fi
done
done
echo "
| [Home](https://portable-linux-apps.github.io/) |
| --- |

---

This site, this application list, and all installation scripts are the work of [Ivan-HC](https://github.com/ivan-hc).

You can support me on [PayPal](http://paypal.me/IvanAlexHC).

You can also help improve these pages via a [pull request](https://github.com/Portable-Linux-Apps/Portable-Linux-Apps.github.io/pulls) to this site's [GitHub repository](https://github.com/Portable-Linux-Apps/Portable-Linux-Apps.github.io),  or report any problems related to the installation scripts in the '[issue](https://github.com/ivan-hc/AM-Application-Manager/issues)' section of the main database, at [https://github.com/ivan-hc/AM-Application-Manager](https://github.com/ivan-hc/AM-Application-Manager).

***PORTABLE-LINUX-APPS.github.io is my gift to the Linux community and was made with love for GNU/Linux and the Open Source philosophy.***

---

" >> apps.md
